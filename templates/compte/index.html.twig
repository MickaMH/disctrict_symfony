{% extends 'base.html.twig' %}

{% block title %}Espace compte{% endblock %}

{% block body %}
{# /* <style>
    .example-wrapper { margin: 1em auto; max-width: 800px; width: 95%; font: 18px/1.5 sans-serif; }
    .example-wrapper code { background: #F5F5F5; padding: 2px 6px; }
</style> */ #}



{# MAIN #}
<main class="container-fluid pb-lg-5">

    {# EN-TETE PLATS #}
    <div class="row d-flex justify-content-center">

        <div class="col-8 col-lg-3 fs-1 fw-medium mb-3 mb-lg-3 mt-3 mt-lg-3 text-center">

            <p class="lettres fond_intitule">ESPACE COMPTE</p>

        </div>

    </div>

    <div class="row d-flex justify-content-around mt-5 mb-5">

        <div class="accordion col-7" id="accordionExample">

            <div class="accordion-item bordures_accordion">
                <h2 class="accordion-header">
                    <button class="accordion-button collapsed fs-3 fw-medium" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="false" aria-controls="collapseOne">
                        Informations personnelles
                    </button>
                </h2>
                <div id="collapseOne" class="accordion-collapse collapse" data-bs-parent="#accordionExample">
                    <div class="accordion-body d-flex flex-column fs-4">
                        <table class="table col-6">
                            <tbody class="fs-4">
                                <tr>
                                    <td class="fw-medium">
                                        Nom :
                                    </td>
                                    <td>
                                        {{ app.user.nom }}
                                    </td>
                                </tr>
                                <tr>
                                    <td class="fw-medium">
                                        Prénom :
                                    </td>
                                    <td>
                                        {{ app.user.prenom }}
                                    </td>
                                </tr>
                                <tr>
                                    <td class="fw-medium">
                                        Email :
                                    </td>
                                    <td>
                                        {{ app.user.email }}
                                    </td>
                                </tr>
                                <tr>
                                    <td class="fw-medium">
                                        Téléphone :
                                    </td>
                                    <td>
                                        {{ app.user.telephone }}
                                    </td>
                                </tr>
                                <tr>
                                    <td class="fw-medium">
                                        Adresse :
                                    </td>
                                    <td>
                                        {{ app.user.adresse }}
                                    </td>
                                </tr>
                                <tr>
                                    <td class="fw-medium">
                                        Code postal :
                                    </td>
                                    <td>
                                        {{ app.user.cp }}
                                    </td>
                                </tr>
                                <tr>
                                    <td class="fw-medium">
                                        Ville :
                                    </td>
                                    <td>
                                        {{ app.user.ville }}
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                        <div class="mt-3">
                            <p class="fs-4 mb-5">Vous pouvez modifier vos informations personnelles ci-dessous :</p>
                            <button type="button" class="mb-3 mx-auto d-flex justify-content-center align-items-center fw-medium shadow-lg fs-5 rounded-4 bouton_envoyer" style="width: 18rem; height: 3rem;">
                                Modifier les informations
                            </button>
                        </div>

                    </div>
                </div>
            </div>

            <div class="accordion-item bordures_accordion">
                <h2 class="accordion-header">
                    <button class="accordion-button collapsed fs-3 fw-medium" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                        Historique des commandes
                    </button>
                </h2>
                <div id="collapseTwo" class="accordion-collapse collapse" data-bs-parent="#accordionExample">
                    <div class="accordion-body col-6">
                    {% for commande in commandes %}
                        {# Button trigger modal #}
                        <button type="button" class="bg-white border border-white" data-bs-toggle="modal" data-bs-target="#exampleModal">
                            <p class="fs-4 text-decoration-none lettres">Commande n° {{ commande.id }} du {{ commande.dateCommande|date('Y-m-d') }}</p>
                        </button>
                        {# Modal #}
                        <div class="modal" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                            <!-- Vertically centered scrollable modal -->
                            <div class="modal-dialog modal-lg modal-dialog-scrollable">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <h1 class="modal-title fs-2" id="exampleModalLabel">Commande n° 1 du 16/07/2024</h1>
                                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                    </div>
                                    <div class="modal-body">  

                                        <table class="col-12">
                                            <thead class="border_thead">
                                                <tr>
                                                    <th class="fs-3 fw-medium">Produit</th>
                                                    <th class="fs-3 fw-medium text-center">Quantité</th>
                                                    <th class="fs-3 fw-medium text-center">Sous-total</th>
                                                </tr>
                                            </thead>
                                            <tbody class="fs-4">
                                                <tr>
                                                    <td>
                                                        <img src="#">
                                                        Libellé du plat
                                                    </td>
                                                    <td class="text-center">2</td>
                                                    <td class="text-center">.00 €</td>
                                                </tr>
                                                <tr>
                                                    <td>
                                                        <img src="#">
                                                        Libellé du plat
                                                    </td>
                                                    <td class="text-center">1</td>
                                                    <td class="text-center">.00 €</td>
                                                </tr>
                                            </tbody>
                                            <tfoot class="border_tfoot fs-3">
                                                <tr>
                                                    <td colspan="2" class="fw-medium">Total de la commande:</td>
                                                    <td class="text-center">
                                                        <span class="fw-medium">.00 €</span>
                                                    </td>
                                                </tr>
                                            </tfoot>
                                        </table>

                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" class="d-flex justify-content-center align-items-center fw-medium shadow-lg fs-4 ps-2 pe-2 pb-1 pt-1 rounded-3 bouton_fermer_panier" data-bs-dismiss="modal">
                                            Fermer
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        {# <p class="fs-4"><a href="#" class="text-decoration-none lettres">Commande n° {{ commande.id }} du {{ commande.dateCommande|date('Y-m-d') }}</a></p> #}
                    {% endfor %}
                    </div>
                </div>
            </div>

            <div class="accordion-item bordures_accordion">
                <h2 class="accordion-header">
                    <button class="accordion-button collapsed fs-3 fw-medium" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                        Suppression du compte
                    </button>
                </h2>
                <div id="collapseThree" class="accordion-collapse collapse" data-bs-parent="#accordionExample">
                    <div class="accordion-body">
                        <p class="fs-4 mt-3 mb-5">Vous pouvez supprimer votre compte ci-dessous :</p>
                        <button type="button" class="mb-3 mx-auto d-flex justify-content-center align-items-center fw-medium shadow-lg fs-5 rounded-4 bouton_envoyer" style="width: 18rem; height: 3rem;">
                            Supprimer le compte
                        </button>
                    </div>
                </div>
            </div>
        </div>

    </div>

</main>
{% endblock %}
